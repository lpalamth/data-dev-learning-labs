### HOW TO USE HIVE COMMAND TO INTERACT WITH HIVE CLUSTER###

###### Step 1:
From Hadoop Terminal, use echo command to find the path as shown below:
```jason
echo $HDFS
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic79.png?raw=true)

Note: The path obtained needs to be used in all the commands shown below to replace {$HDFS}.

The relative path as shown in the screenshot below would be used in Hive. Please make a note of the same:

![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic45.png?raw=true)


###### Step 2:
Hive interactive environment needs to be launched from terminal.Please follow the steps given below. 

To launch Hive environment, please follow the command given below:

```jason
Hive
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic58.png?raw=true)

The prompt would be as shown below:
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic59.png?raw=true)

###### Step 3:

Execute some of the basic command with Hive as follows. The commands mentioned below needs to be executed in sequential order.

* Create a new table.

```jason
CREATE TABLE people (id INT, name STRING);
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic60.png?raw=true)

* Show the contents of table created.

```jason
SHOW TABLES;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic61.png?raw=true)

* Describe one of the existing table - Students.

```jason
DESCRIBE students;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic63.png?raw=true)


* Alter the created table.

1. Rename table:

```jason
ALTER TABLE people RENAME TO people_renamed;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic64.png?raw=true)


Command to check the output is as follows:

```jason
show tables;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic65.png?raw=true)

2. Add new column for table.

```jason
ALTER TABLE people_renamed ADD COLUMNS (new_col INT);
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic66.png?raw=true)

Command to check the output is as follows:

```jason
describe people_renamed;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic67.png?raw=true)

3. Drop Table

```jason
DROP TABLE people_renamed;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic68.png?raw=true)

###### Step 4:

Learn how to create a table from csv file in Hive interactive environment. The commands mentioned below needs to be executed in sequential order.

1. Exit from hive interactive environment and execute the following commands in hdfs terminal. To exit from hive interactive environment, execute the command mentioned below:

```jason
exit;
```

* Create a new data file directory(students) with hdfs command.

```jason
hdfs dfs –mkdir ${HDFS}students;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic69.png?raw=true)


* Copy demo data existing in hadoop(hive_students.csv) to the directory created - students.

```jason
hdfs dfs –cp ${HDFS}hive_students.csv ${HDFS}students;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic70.png?raw=true)

1. Enter Hive interactive environment and execute the following commands in Hive.

To launch Hive environment, please follow the command given below:

```jason
hive;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic58.png?raw=true)

The prompt would be as shown below:
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic59.png?raw=true)

2. Create an external table in Hive interactive environment.

```jason
CREATE EXTERNAL TABLE students (id INT, name STRING, birthday STRING) 
    COMMENT 'hive demo table'
    ROW FORMAT DELIMITED
    FIELDS TERMINATED BY ','
    STORED AS TEXTFILE
location '/user/570c977d4758c1b01983de10/292c1fa0-4c7c-4f91-a03b-a6e1d9246ace/students';
```
The path shown in location is the relative path and not the full path. Replace this relative path from Step 1 as shown below:

location: Relative path obtained from step 1 + students;

/user/570c977d4758c1b01983de10/292c1fa0-4c7c-4f91-a03b-a6e1d9246ace/students

Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic71.png?raw=true)

* Show the definition of table created.

```jason
DESCRIBE students;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic72.png?raw=true)

3. Check the output.

```jason
Select * from students;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic73.png?raw=true)

###### Step 5:

Learn how to execute some basic sql commands in Hive interactive environment. The commands mentioned below needs to be executed in sequential order.

1. Select command.

```jason
SELECT name FROM students WHERE birthday ='2015-08-20';
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic74.png?raw=true)

2. Insert the results of "Select" command into a new table in Hive.

```jason
CREATE TABLE students_sub (id INT, name STRING, birthday STRING) ;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic76.png?raw=true)

```jason
INSERT OVERWRITE TABLE students_sub SELECT a.* FROM students a where a.birthday > '2015-08-20';
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic77.png?raw=true)

3. Check the output.

```jason
Select * from students_sub ;
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic78.png?raw=true)

###### Step 6:

To explore more commands , use help command as shown below:
```jason
hdfs dfs –help
```
Output of the command is as shown below:
![alt-tag](https://github.com/lpalamth/data-dev-learning-labs/blob/master/labs/HOW TO EXECUTE BASIC COMMAND IN HADOOP TERMINAL/assets/images/HadoopBasic52.png?raw=true)

## LESSONS LEARNT :

1. How to use Hive command to interact with Hive cluster. 


# <center>Congratulations! You have successfully completed the Learning Lab!

